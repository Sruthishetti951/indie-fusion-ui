"use strict";(self.webpackChunkindie_fusion_ui=self.webpackChunkindie_fusion_ui||[]).push([[336],{2193:(e,l,a)=>{a.d(l,{A:()=>o});var i=a(579);const o=e=>{let{show:l,handleClose:a,title:o,children:s,handleSubmit:t,submitLabel:n="Ok",closeLabel:r="Cancel",submitDisable:d=!1}=e;return(0,i.jsx)("div",{className:"modal fade "+(l?"show d-block":""),tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,i.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsx)("div",{className:"modal-header",children:(0,i.jsx)("h5",{className:"modal-title",children:o})}),(0,i.jsx)("div",{className:"modal-body",children:s}),(0,i.jsxs)("div",{className:"modal-footer",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:a,children:r}),(0,i.jsx)("button",{type:"button",className:"btn btn-primary",onClick:t,disabled:d,children:n})]})]})})})}},7336:(e,l,a)=>{a.r(l),a.d(l,{default:()=>g});var i=a(5043),o=a(2193);const s={"main-container":"MyProfilePage_main-container__4tgAq","profile-container":"MyProfilePage_profile-container__UrUeU","profile-image-grid":"MyProfilePage_profile-image-grid__r31yq",container:"MyProfilePage_container__DhDo0","image-request-button":"MyProfilePage_image-request-button__CTE3S",image:"MyProfilePage_image__HoaLu",opacity:"MyProfilePage_opacity__Wb6PL","mg-right":"MyProfilePage_mg-right__yDim2",bold:"MyProfilePage_bold__xeFPl","view-comment-btn":"MyProfilePage_view-comment-btn__FGZtV",date:"MyProfilePage_date__frA28","fill-blue":"MyProfilePage_fill-blue__8vnG1","fill-red":"MyProfilePage_fill-red__6MSid",hidden:"MyProfilePage_hidden__DnXXx",show:"MyProfilePage_show__kaf4X",dot:"MyProfilePage_dot__f8wDZ",rotate:"MyProfilePage_rotate__AIdQZ","profile-img":"MyProfilePage_profile-img__FhbAt","post-img":"MyProfilePage_post-img__Bo7FH","menu-list":"MyProfilePage_menu-list__BZTCZ","menu-items":"MyProfilePage_menu-items__eHUFc","menu-date":"MyProfilePage_menu-date__RP+P+","profile-name-font":"MyProfilePage_profile-name-font__JUhny","profile-username-font":"MyProfilePage_profile-username-font__53OeN","profile-bio-font":"MyProfilePage_profile-bio-font__b91XG","container-profile":"MyProfilePage_container-profile__7qvUs","header-data":"MyProfilePage_header-data__hCSU+","post-data":"MyProfilePage_post-data__kUNUM","poat-data":"MyProfilePage_poat-data__pV8p6","likes-count":"MyProfilePage_likes-count__RzSKj",likes:"MyProfilePage_likes__q0sto","user-data":"MyProfilePage_user-data__xILzR","icon-container":"MyProfilePage_icon-container__X8qN8",save:"MyProfilePage_save__7vQ1C",user:"MyProfilePage_user__EgqdU",city:"MyProfilePage_city__lfmL8","icon-size":"MyProfilePage_icon-size__+aKoW",location:"MyProfilePage_location__v9h0z","post-content":"MyProfilePage_post-content__OVn-h","comment-section":"MyProfilePage_comment-section__8Now9","truncate-overflow":"MyProfilePage_truncate-overflow__JrDaD",overlay:"MyProfilePage_overlay__1WHWs","comments-modal":"MyProfilePage_comments-modal__IHJky","likes-modal":"MyProfilePage_likes-modal__Nntjz","show-modal":"MyProfilePage_show-modal__Vqam0","modal-comments":"MyProfilePage_modal-comments__BoMXV","modal-likes-content":"MyProfilePage_modal-likes-content__d1SXY","modal-header":"MyProfilePage_modal-header__jKERq",close:"MyProfilePage_close__+A7m5","comments-list-wrapper":"MyProfilePage_comments-list-wrapper__ZeocW","comments-list":"MyProfilePage_comments-list__jLGpw","list-item-wrapper":"MyProfilePage_list-item-wrapper__bRhlX","comment-list-item":"MyProfilePage_comment-list-item__BFvJx","comment-list-icon":"MyProfilePage_comment-list-icon__xnu0O","like-icon":"MyProfilePage_like-icon__7DnLq","list-div":"MyProfilePage_list-div__JtzxC","replies-container":"MyProfilePage_replies-container__M1a64","view-replies":"MyProfilePage_view-replies__k6UGw","replies-box":"MyProfilePage_replies-box__d5bGK","show-replies":"MyProfilePage_show-replies__Tozto",svg:"MyProfilePage_svg__StwlY",hr:"MyProfilePage_hr__uF39Y",follow:"MyProfilePage_follow__otEB6",unfollow:"MyProfilePage_unfollow__1taKp","modal-likes-list-item":"MyProfilePage_modal-likes-list-item__vvBdX","close-modal":"MyProfilePage_close-modal__Gz3RG","modal-heading-wrapper":"MyProfilePage_modal-heading-wrapper__h25Np","user-details":"MyProfilePage_user-details__+0Vot","user-wrapper":"MyProfilePage_user-wrapper__dhWYD","only-text-content":"MyProfilePage_only-text-content__cgD4g"};var t=a(6213),n=a(8585),r=a(2037),d=a(3216),c=a(5475),m=a(8066),_=a(7908),u=a(579);const g=function(){var e,l,a,g,v,f,P,h;const p=(0,d.Zp)(),[y,x]=(0,i.useState)(!1),[b,j]=(0,i.useState)(null),[M,N]=(0,i.useState)({show:!1,message:""}),[w,$]=(0,i.useState)(null),[S,I]=(0,i.useState)(null),[C,D]=(0,i.useState)("/Images/DefaultProfileImage.webp"),[k,E]=(0,i.useState)(!0),[U,R]=(0,i.useState)({loading:!1,data:[]}),A=(0,d.g)(),L=(0,i.useCallback)((()=>{var e;R({loading:!0,data:null});const l=null!==(e=null===A||void 0===A?void 0:A.profileId)&&void 0!==e?e:localStorage.getItem("USER_ID");t.A.get(`${n.H}/post/${l}`).then((e=>{var l;if(null!==(l=e.data)&&void 0!==l&&l.data){var a,i;const l=e.data.data;R({loading:!1,data:null===(a=l.posts)||void 0===a?void 0:a.reverse()}),l.imageUrl&&D(`${n.H}/${l.imageUrl}`),I({profileDetails:null===l||void 0===l?void 0:l.profileDetails,userDetails:null===l||void 0===l?void 0:l.userDetails}),null!==l&&void 0!==l&&l.profileDetails,E(null===l||void 0===l||null===(i=l.profileDetails)||void 0===i?void 0:i.openToCollab)}else(0,r.c3)("Not able to fetch the data now... Try again later... ")})).catch((e=>{(0,r.c3)("Something went wrong... Please try again")}))}),[null===A||void 0===A?void 0:A.profileId]),q=(0,i.useCallback)((()=>{if(!A.profileId)return;const e=localStorage.getItem("USER_ID"),l=A.profileId;t.A.get(`${n.H}/collab/${e}/${l}`).then((e=>{var l,a,i,o;$(null!==(l=e.data)&&void 0!==l&&null!==(a=l.data)&&void 0!==a&&a.length?null===(i=e.data)||void 0===i||null===(o=i.data)||void 0===o?void 0:o[0]:null)})).catch((e=>{(0,r.c3)("Something went wrong while fetching collab details ... Please try again")}))}),[A.profileId]);(0,i.useEffect)((()=>{L(),q()}),[L,A.profileId,q]);const H=(0,i.useCallback)((()=>{if(M.message){const e=localStorage.getItem("USER_ID"),l=A.profileId;t.A.post(`${n.H}/collab/${e}/${l}`,{message:M.message}).then((e=>{var l;N({show:!1,message:""}),null!==(l=e.data)&&void 0!==l&&l.data?((0,r.c3)("Request Sent Successfully",!1),q()):(0,r.c3)("Not able to request... Please try again")})).catch((e=>{N({show:!1,message:""}),(0,r.c3)("Something went wrong ... Please try again")}))}else(0,r.c3)("Message is required")}),[q,M.message,A.profileId]),F=(0,i.useCallback)((e=>{if(!A.profileId)return;const l=localStorage.getItem("USER_ID"),a=A.profileId;t.A.put(`${n.H}/collab/${l}/${a}/${e}`).then((e=>{var l,a,i;null!==(l=e.data)&&void 0!==l&&l.success?((0,r.c3)(null===(a=e.data)||void 0===a?void 0:a.message,!1),q()):(0,r.c3)(null===(i=e.data)||void 0===i?void 0:i.message)})).catch((e=>{(0,r.c3)("Something went wrong ... Please try again")}))}),[q,A.profileId]),O=(0,i.useCallback)((e=>{const l=localStorage.getItem("USER_ID"),a=A.profileId;t.A.put(`${n.H}/collab/${a}/${l}/${e}`).then((e=>{var l,a,i;null!==(l=e.data)&&void 0!==l&&l.success?((0,r.c3)(null===(a=e.data)||void 0===a?void 0:a.message,!1),q()):(0,r.c3)(null===(i=e.data)||void 0===i?void 0:i.message)})).catch((e=>{(0,r.c3)("Something went wrong ... Please try again")}))}),[q,A.profileId]),T=(0,i.useMemo)((()=>{var e,l;const a=localStorage.getItem("USER_ID");return null!==w&&void 0!==w&&w.userId?(null===w||void 0===w?void 0:w.status)===r.XQ.APPROVED?(0,u.jsx)("div",{className:"badge bg-secondary btn-sm",children:"Collabed"}):(null===w||void 0===w||null===(e=w.requestedTo)||void 0===e?void 0:e._id)===a?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("button",{className:"btn btn-primary",onClick:()=>F(!0),children:"Approve"})," \xa0",(0,u.jsx)("button",{className:"btn btn-primary",onClick:()=>F(!1),children:"Reject"})]}):(null===w||void 0===w||null===(l=w.userId)||void 0===l?void 0:l._id)===a?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("button",{className:"btn btn-primary",children:(0,r.xH)(null===w||void 0===w?void 0:w.status)}),"\xa0",(0,u.jsx)("button",{className:"btn btn-primary",onClick:()=>O(!1),children:"Cancel Request"})]}):void 0:k?(0,u.jsx)("button",{className:"btn btn-primary",onClick:()=>N({show:!0,message:""}),children:"Request Collab"}):(0,u.jsx)("div",{className:"badge bg-secondary btn-sm",children:"Collab Unavailable"})}),[k,null===w||void 0===w||null===(e=w.requestedTo)||void 0===e?void 0:e._id,null===w||void 0===w?void 0:w.status,null===w||void 0===w?void 0:w.userId,F,O]),z=(0,i.useCallback)((e=>{var l;return(0,u.jsxs)("div",{className:`${s["container-profile"]}`,children:[(0,u.jsxs)("div",{className:`${s["header-data"]}`,children:[(0,u.jsx)("img",{src:C,alt:"",className:`${s["profile-img"]} ${s["mg-right"]}`}),(0,u.jsx)("div",{className:"user-wrapper",children:(0,u.jsxs)("div",{className:`${s["user-data"]}`,children:[(0,u.jsx)("h3",{className:`${s.user} ${s["mg-right"]} ${s.bold}`,children:null===(l=e.userId)||void 0===l?void 0:l.userName}),(0,u.jsx)("p",{className:`${s.date}`})]})})]}),(null===e||void 0===e?void 0:e.mediaUrl)&&(0,u.jsx)("div",{className:` ${s["post-data"]}`,children:(0,r.rC)(null===e||void 0===e?void 0:e.mediaUrl)?(0,u.jsx)("img",{src:`${n.H}/${null===e||void 0===e?void 0:e.mediaUrl}`,alt:"",className:`${s["post-img"]}`}):(0,u.jsx)("video",{controls:!0,src:`${n.H}/${null===e||void 0===e?void 0:e.mediaUrl}`,className:`${s["post-img"]}`})}),(null===e||void 0===e?void 0:e.mediaUrl)&&(null===e||void 0===e?void 0:e.text)&&(0,u.jsx)("div",{className:`${s.metadata}`,children:(0,u.jsx)("div",{className:`${s["icon-container"]} d-flex justify-content-between`,children:(0,u.jsx)("div",{children:(0,u.jsx)("p",{children:null===e||void 0===e?void 0:e.text})})})}),!(null!==e&&void 0!==e&&e.mediaUrl)&&(null===e||void 0===e?void 0:e.text)&&(0,u.jsx)("div",{children:(0,u.jsx)("div",{children:(0,u.jsx)("p",{className:s["only-text-content"],children:null===e||void 0===e?void 0:e.text})})}),(0,u.jsxs)("div",{className:"d-flex justify-content-between "+(null!==e&&void 0!==e&&e.text?"":"pt-2"),children:[(0,u.jsx)("div",{children:(0,u.jsx)("p",{className:`${s["menu-date"]}`,children:null!==e&&void 0!==e&&e.createdDate?new Date(e.createdDate).toDateString():null})}),localStorage.getItem("USER_ID")===A.profileId&&(0,u.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,u.jsx)("div",{className:"me-3",children:(0,u.jsx)("i",{className:`fa fa-pencil-square ${s["icon-size"]}`,"aria-hidden":"true",onClick:()=>p(`/edit/${e._id}`)})}),(0,u.jsx)("div",{className:"me-3",children:(0,u.jsx)("i",{className:`fa fa-trash ${s["icon-size"]}`,"aria-hidden":"true",onClick:()=>(j(e._id),void x(!0))})})]})]})]},e._id)}),[p,A.profileId,C]),B=(0,i.useMemo)((()=>(0,u.jsx)(_.A,{})),[]),V=(0,i.useMemo)((()=>(0,u.jsx)(m.A,{})),[]);return(0,u.jsxs)("div",{className:`${s.container}`,children:[U.loading&&B,!U.loading&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:`${s["profile-container"]} ${s["profile-image-grid"]}`,children:[(0,u.jsxs)("div",{className:`${s["image-request-button"]}`,children:[(0,u.jsx)("img",{src:C,className:`${s.image}`,alt:"Profile"}),(0,u.jsx)("div",{children:(null===A||void 0===A?void 0:A.profileId)&&localStorage.getItem("USER_ID")!==(null===A||void 0===A?void 0:A.profileId)&&T})]}),(0,u.jsx)("div",{children:(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:`${s["profile-name-font"]}`,children:`${null===S||void 0===S||null===(l=S.userDetails)||void 0===l?void 0:l.firstName} ${null===S||void 0===S||null===(a=S.userDetails)||void 0===a?void 0:a.lastName}`}),(0,u.jsx)("p",{className:`${s["profile-username-font"]}`,children:null===S||void 0===S||null===(g=S.userDetails)||void 0===g?void 0:g.userName}),(0,u.jsx)("p",{className:`${s["profile-bio-font"]}`,children:null===S||void 0===S||null===(v=S.profileDetails)||void 0===v?void 0:v.bio})]})})]})}),(0,u.jsxs)("div",{className:`${s["main-container"]}`,children:[!U.loading&&(null===U||void 0===U||null===(f=U.data)||void 0===f?void 0:f.length)>0?null===U||void 0===U||null===(P=U.data)||void 0===P?void 0:P.map((e=>z(e))):null,!U.loading&&(null===U||void 0===U||null===(h=U.data)||void 0===h?void 0:h.length)<=0&&(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{children:V}),(0,u.jsx)("div",{children:(0,u.jsx)(c.N_,{to:"/create",children:"Create Here"})})]})}),(0,u.jsx)("div",{children:(0,u.jsx)(o.A,{show:y,handleClose:()=>x(!1),handleSubmit:()=>(()=>{const e=localStorage.getItem("USER_ID");t.A.delete(`${n.H}/post/${e}/${b}`).then((e=>{var l;null!==(l=e.data)&&void 0!==l&&l.data?((0,r.c3)("Post Deleted Successfully",!1),L()):(0,r.c3)("Not able to delete... Please try again")})).catch((e=>{(0,r.c3)("Something went wrong ... Please try again")})).finally((()=>{x(!1)}))})(),title:"Delete Post",children:(0,u.jsx)("p",{children:"Are you sure you want to delete this post?"})})}),(0,u.jsx)("div",{children:M.show&&(0,u.jsx)(o.A,{show:M.show,handleClose:()=>N({show:!1,message:""}),handleSubmit:()=>H(),title:"Request Message",submitDisable:!M.message,children:(0,u.jsxs)("div",{class:"form-floating",children:[(0,u.jsx)("textarea",{class:"form-control",placeholder:"Leave a message here",id:"floatingTextarea",onChange:e=>N({...M,message:e.target.value})}),(0,u.jsx)("label",{for:"floatingTextarea",children:"Your Request Message"})]})})})]})]})]})}},2037:(e,l,a)=>{a.d(l,{I9:()=>n,XQ:()=>r,ZS:()=>d,c3:()=>t,rC:()=>s,xH:()=>c});var i=a(3401);const o=["mp4","mov"],s=e=>{const l=null===e||void 0===e?void 0:e.split("."),a=l[l.length-1];return!o.includes(null===a||void 0===a?void 0:a.toLowerCase())},t=function(e){let l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];i.oR[l?"error":"success"](e,{position:"top-right",autoClose:1e4,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark",transition:i.br})},n={GROUP:"GROUP",COLLAB:"COLLAB"},r={APPROVED:"APPROVED",REQUESTED:"REQUESTED",REJECTED:"REJECTED"},d={SELF:"SELF",EVENT:"EVENT",COLLAB:"COLLAB"},c=e=>e.split(/([.!?])\s*/).map(((e,l)=>l%2===0?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():e)).join("")},7908:(e,l,a)=>{a.d(l,{A:()=>t});a(5043);const i="LoadingIndicator_loading-container__u+u1Y",o="LoadingIndicator_indicator__Y5uSo";var s=a(579);const t=function(){return(0,s.jsx)("div",{className:`${i}`,children:(0,s.jsx)("div",{className:`spinner-border text-primary ${o}`,role:"status",children:(0,s.jsx)("span",{className:"sr-only"})})})}},8066:(e,l,a)=>{a.d(l,{A:()=>o});a(5043);var i=a(579);const o=function(){return(0,i.jsx)("div",{className:"d-flex align-items-center flex-column pt-4",children:(0,i.jsx)("div",{children:(0,i.jsx)("img",{src:"/Images/NoDataFoundImage.jpg",alt:"No Post Found"})})})}}}]);
//# sourceMappingURL=336.b8cfe130.chunk.js.map