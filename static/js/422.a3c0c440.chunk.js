"use strict";(self.webpackChunkindie_fusion_ui=self.webpackChunkindie_fusion_ui||[]).push([[422],{2037:(i,a,o)=>{o.d(a,{I9:()=>s,XQ:()=>d,ZS:()=>r,c3:()=>l,rC:()=>t,xH:()=>c});var n=o(3401);const e=["mp4","mov"],t=i=>{const a=null===i||void 0===i?void 0:i.split("."),o=a[a.length-1];return!e.includes(null===o||void 0===o?void 0:o.toLowerCase())},l=function(i){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n.oR[a?"error":"success"](i,{position:"top-right",autoClose:1e4,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark",transition:n.br})},s={GROUP:"GROUP",COLLAB:"COLLAB"},d={APPROVED:"APPROVED",REQUESTED:"REQUESTED",REJECTED:"REJECTED"},r={SELF:"SELF",EVENT:"EVENT",COLLAB:"COLLAB"},c=i=>i.split(/([.!?])\s*/).map(((i,a)=>a%2===0?i.charAt(0).toUpperCase()+i.slice(1).toLowerCase():i)).join("")},5422:(i,a,o)=>{o.r(a),o.d(a,{default:()=>f});var n=o(5043);const e={container:"Notifications_container__vfNdU","main-Card":"Notifications_main-Card__FV+aY","card-items":"Notifications_card-items__T5DKL","fafa-icon-size":"Notifications_fafa-icon-size__lj0Gt","card-gap":"Notifications_card-gap__rUWVy","p-margin":"Notifications_p-margin__agc40",unread:"Notifications_unread__rKc+i","loading-container":"Notifications_loading-container__B+ry6",indicator:"Notifications_indicator__7dp7m",date:"Notifications_date__CcWxQ","profile-img":"Notifications_profile-img__oFAqw"};var t=o(6213),l=o(8585),s=o(2037),d=o(3216),r=o(6824),c=o(7908),u=o(8066),v=o(579);const f=function(){var i,a;const[o,f]=(0,n.useState)({loading:!1,data:[]}),m=(0,d.Zp)(),g=(0,n.useCallback)((()=>{f({loading:!0,data:null});const i=localStorage.getItem("USER_ID");t.A.get(`${l.H}/notifications/${i}`).then((i=>{var a;i.data?f({loading:!1,data:null===(a=i.data)||void 0===a?void 0:a.data}):(f({loading:!1,data:null}),(0,s.c3)("Unable to fetch Groups... Please try again ..."))})).catch((()=>{(0,s.c3)("Unable to fetch Groups... Please try again ...")}))}),[]),_=(0,n.useCallback)((i=>{const a=localStorage.getItem("USER_ID");t.A.put(`${l.H}/notifications/${a}/${i}`).then((i=>{})).catch((()=>{}))}),[]);(0,n.useEffect)((()=>{g()}),[g]);const p=(0,n.useCallback)((i=>{_(i._id),i.notificationType===s.I9.GROUP?m(`/groups/${null===i||void 0===i?void 0:i.externalId}`):m(`/profile/${null===i||void 0===i?void 0:i.notificationFrom}`)}),[m,_]),h=(0,n.useMemo)((()=>{var i;return null===o||void 0===o||null===(i=o.data)||void 0===i?void 0:i.map((i=>{var a,o,n,t;return(0,v.jsxs)("div",{className:`${e["main-Card"]} ${e["card-items"]} ${!i.isRead&&e.unread}`,role:"button",onClick:()=>p(i),children:[(null===i||void 0===i?void 0:i.notificationType)===s.I9.GROUP&&(0,v.jsx)("div",{children:(0,v.jsx)("i",{className:`fa fa-users ${e["fafa-icon-size"]}`,"aria-hidden":"true"})}),(null===i||void 0===i?void 0:i.notificationType)===s.I9.COLLAB&&(0,v.jsx)("div",{children:(0,v.jsx)("img",{src:null!==i&&void 0!==i&&null!==(a=i.fromUserProfileImage)&&void 0!==a&&a.imageUrl?`${l.H}/${null===i||void 0===i||null===(o=i.fromUserProfileImage)||void 0===o?void 0:o.imageUrl}`:"/Images/DefaultProfileImage.webp",alt:"Profile Not found",className:`${e["profile-img"]} ${e["mg-right"]}`})}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("p",{className:`${e["p-margin"]}`,children:[(0,v.jsx)("span",{className:"fw-bold",children:(0,s.xH)(`${null===i||void 0===i||null===(n=i.fromUserDetails)||void 0===n?void 0:n.firstName} ${null===i||void 0===i||null===(t=i.fromUserDetails)||void 0===t?void 0:t.lastName}`)}),"\xa0",(0,v.jsx)("span",{children:`${null===i||void 0===i?void 0:i.message}`})]}),(0,v.jsx)("p",{className:`${e["p-margin"]} ${e.date}`,children:`${null!==i&&void 0!==i&&i.createdDate?new Date(null===i||void 0===i?void 0:i.createdDate).toDateString():null}`})]})]},i._id)}))}),[p,null===o||void 0===o?void 0:o.data]),N=(0,n.useMemo)((()=>(0,v.jsx)(c.A,{})),[]),x=(0,n.useMemo)((()=>(0,v.jsx)(u.A,{})),[]);return(0,v.jsx)("div",{className:`${e.container}`,children:(0,v.jsx)("div",{children:(0,v.jsxs)("div",{className:`${e["card-gap"]}`,children:[(0,v.jsx)("div",{children:(0,v.jsx)(r.A,{heading:"Notifications"})}),(null===o||void 0===o?void 0:o.loading)&&N,!(null!==o&&void 0!==o&&o.loading)&&(null===o||void 0===o||null===(i=o.data)||void 0===i?void 0:i.length)<=0&&x,(null===o||void 0===o||null===(a=o.data)||void 0===a?void 0:a.length)>0?h:null]})})})}},7908:(i,a,o)=>{o.d(a,{A:()=>l});o(5043);const n="LoadingIndicator_loading-container__u+u1Y",e="LoadingIndicator_indicator__Y5uSo";var t=o(579);const l=function(){return(0,t.jsx)("div",{className:`${n}`,children:(0,t.jsx)("div",{className:`spinner-border text-primary ${e}`,role:"status",children:(0,t.jsx)("span",{className:"sr-only"})})})}},8066:(i,a,o)=>{o.d(a,{A:()=>e});o(5043);var n=o(579);const e=function(){return(0,n.jsx)("div",{className:"d-flex align-items-center flex-column pt-4",children:(0,n.jsx)("div",{children:(0,n.jsx)("img",{src:"/Images/NoDataFoundImage.jpg",alt:"No Post Found"})})})}},6824:(i,a,o)=>{o.d(a,{A:()=>t});o(5043);const n="Title_heading-font__UosSp";var e=o(579);const t=function(i){return(0,e.jsx)("div",{className:`${n}`,children:i.heading})}}}]);
//# sourceMappingURL=422.a3c0c440.chunk.js.map