"use strict";(self.webpackChunkindie_fusion_ui=self.webpackChunkindie_fusion_ui||[]).push([[351],{2193:(a,e,s)=>{s.d(e,{A:()=>d});var o=s(579);const d=a=>{let{show:e,handleClose:s,title:d,children:l,handleSubmit:t,submitLabel:i="Ok",closeLabel:n="Cancel",submitDisable:r=!1}=a;return(0,o.jsx)("div",{className:"modal fade "+(e?"show d-block":""),tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,o.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,o.jsxs)("div",{className:"modal-content",children:[(0,o.jsx)("div",{className:"modal-header",children:(0,o.jsx)("h5",{className:"modal-title",children:d})}),(0,o.jsx)("div",{className:"modal-body",children:l}),(0,o.jsxs)("div",{className:"modal-footer",children:[(0,o.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:s,children:n}),(0,o.jsx)("button",{type:"button",className:"btn btn-primary",onClick:t,disabled:r,children:i})]})]})})})}},7351:(a,e,s)=>{s.r(e),s.d(e,{default:()=>h});var o=s(5043);const d={dashboardCard:"Dashboard_dashboardCard__akHR6","00000099":"Dashboard_00000099__FlMyd","card-height":"Dashboard_card-height__EAIlM","main-container":"Dashboard_main-container__Ivivt",opacity:"Dashboard_opacity__rmp8J","mg-right":"Dashboard_mg-right__LivMm",bold:"Dashboard_bold__2E3Vr","view-comment-btn":"Dashboard_view-comment-btn__t3XRu",date:"Dashboard_date__afs6C","fill-blue":"Dashboard_fill-blue__nBeCZ","fill-red":"Dashboard_fill-red__FiF33",hidden:"Dashboard_hidden__SKYcu",show:"Dashboard_show__VfjoB",dot:"Dashboard_dot__AoBvy",rotate:"Dashboard_rotate__k7Dow","profile-img":"Dashboard_profile-img__a8zHU","post-img":"Dashboard_post-img__Cnvjg","menu-list":"Dashboard_menu-list__UxHuJ","menu-items":"Dashboard_menu-items__QntMX","menu-date":"Dashboard_menu-date__IKRcr","container-dashboard":"Dashboard_container-dashboard__e4MBb","header-data":"Dashboard_header-data__skRQB","post-data":"Dashboard_post-data__vfvpr","poat-data":"Dashboard_poat-data__7xG+G","likes-count":"Dashboard_likes-count__WUYB-",likes:"Dashboard_likes__GUs8q","user-data":"Dashboard_user-data__ZHeUO","icon-container":"Dashboard_icon-container__Wuwp+",save:"Dashboard_save__PtIOk",user:"Dashboard_user__QjcPt",group:"Dashboard_group__SCQ2l",city:"Dashboard_city__8f3-F","icon-size":"Dashboard_icon-size__mZnPw",location:"Dashboard_location__nClFj","post-content":"Dashboard_post-content__U54bc","comment-section":"Dashboard_comment-section__z9COv","truncate-overflow":"Dashboard_truncate-overflow__h2DCz",overlay:"Dashboard_overlay__2vStM","comments-modal":"Dashboard_comments-modal__ChrUX","likes-modal":"Dashboard_likes-modal__eogv5","show-modal":"Dashboard_show-modal__o5F2R","modal-comments":"Dashboard_modal-comments__yL3EY","modal-likes-content":"Dashboard_modal-likes-content__P94zy","modal-header":"Dashboard_modal-header__Jvahp",close:"Dashboard_close__uIjmK","comments-list-wrapper":"Dashboard_comments-list-wrapper__9Ig8L","comments-list":"Dashboard_comments-list__I5Hoq","list-item-wrapper":"Dashboard_list-item-wrapper__A6+u-","comment-list-item":"Dashboard_comment-list-item__V-f8g","comment-list-icon":"Dashboard_comment-list-icon__-7Fk7","like-icon":"Dashboard_like-icon__Zfkyn","list-div":"Dashboard_list-div__P7UBI","replies-container":"Dashboard_replies-container__AbRL1","view-replies":"Dashboard_view-replies__kqy8z","replies-box":"Dashboard_replies-box__demhB","show-replies":"Dashboard_show-replies__R9rgD",svg:"Dashboard_svg__RMeob",hr:"Dashboard_hr__lMkMg",follow:"Dashboard_follow__cQv8l",unfollow:"Dashboard_unfollow__ZrixK","modal-likes-list-item":"Dashboard_modal-likes-list-item__MVWwm","close-modal":"Dashboard_close-modal__16add","modal-heading-wrapper":"Dashboard_modal-heading-wrapper__Dq+dQ","user-details":"Dashboard_user-details__-R1ta","user-wrapper":"Dashboard_user-wrapper__YURq7","only-text-content":"Dashboard_only-text-content__AoI+z"};var l=s(6213),t=s(8585),i=s(2037),n=s(3216),r=s(2193),c=s(8066),_=s(7908),m=s(579);const h=function(){var a,e,s;const h=(0,n.Zp)(),[u,v]=(0,o.useState)({loading:!1,data:[]}),[b,g]=(0,o.useState)(!1),[p,D]=(0,o.useState)(!1),[x,j]=(0,o.useState)(null),[f]=(0,o.useState)(null!==(a=localStorage.getItem("USER_ID"))&&void 0!==a?a:"");(0,o.useEffect)((()=>{N()}),[]);const N=()=>{v({loading:!0,data:null});const a=localStorage.getItem("USER_ID");l.A.get(`${t.H}/post-dashboard/${a}`).then((a=>{var e;if(null!==(e=a.data)&&void 0!==e&&e.data){var s;const e=a.data.data,o=null!==(s=null===e||void 0===e?void 0:e.filter((a=>a.isActive)))&&void 0!==s?s:[];v({loading:!1,data:o.reverse()})}else v({loading:!1,data:[]}),(0,i.c3)("Not able to fetch the data now... Try again later... ")})).catch((a=>{v({loading:!1,data:[]}),(0,i.c3)("Something went wrong... Please try again")}))},w=(0,o.useCallback)((a=>{a.type===i.ZS.SELF?h(`/profile/${null===a||void 0===a?void 0:a.userId}`):a.type===i.ZS.COLLAB?h("/groups"):h("/events")}),[h]),y=(0,o.useCallback)((a=>{if((null===a||void 0===a?void 0:a.type)===i.ZS.COLLAB){var e;const s=localStorage.getItem("USER_ID"),o=null===a||void 0===a||null===(e=a.members)||void 0===e?void 0:e.find((a=>a.userId===s));if(o){if(null!==o&&void 0!==o&&o.isAdmin)return null;if((null===o||void 0===o?void 0:o.status)===i.XQ.APPROVED)return(0,m.jsx)("div",{className:"me-3 badge bg-secondary btn-sm",children:"Approved"});if((null===o||void 0===o?void 0:o.status)===i.XQ.REQUESTED)return(0,m.jsx)("div",{className:"me-3 badge bg-secondary btn-sm",children:"Requested"});if((null===o||void 0===o?void 0:o.status)===i.XQ.REJECTED)return(0,m.jsx)("div",{className:"me-3 badge bg-secondary btn-sm",children:"REJECTED"})}return(0,m.jsx)("div",{className:"me-3",children:(0,m.jsx)("button",{className:"btn btn-primary btn-sm",onClick:()=>(j(a._id),void D(!0)),children:"Request"})})}return(null===a||void 0===a?void 0:a.type)===i.ZS.EVENT?(0,m.jsx)("div",{className:"me-3 badge bg-secondary btn-sm",children:"Event"}):null}),[]),$=(0,o.useMemo)((()=>{var a;return null===u||void 0===u||null===(a=u.data)||void 0===a?void 0:a.map((a=>{var e;return a.type!==i.ZS.COLLAB||null!==a&&void 0!==a&&a.isGroupActive?(0,m.jsxs)("div",{className:`${d["container-dashboard"]}`,children:[(0,m.jsxs)("div",{className:`${d["header-data"]}`,children:[(0,m.jsx)("img",{src:a.profileImageUrl?`${t.H}/${a.profileImageUrl}`:"/Images/DefaultProfileImage.webp",alt:"Profile Not found",className:`${d["profile-img"]} ${d["mg-right"]}`}),(0,m.jsxs)("div",{className:"user-wrapper ps-2",children:[(0,m.jsxs)("div",{className:`${d["user-data"]}`,role:"button",onClick:()=>w(a),children:[(0,m.jsx)("h3",{className:`${d.user} ${d["mg-right"]} ${d.bold}`,children:null===(e=a.userDetails)||void 0===e?void 0:e.userName}),(0,m.jsx)("p",{className:`${d.date}`})]}),(0,m.jsx)("div",{className:`${d["user-data"]}`,children:(null===a||void 0===a?void 0:a.title)&&(0,m.jsx)("h3",{className:`${d.group} ${d["mg-right"]} ${d.bold}`,children:null===a||void 0===a?void 0:a.title})})]})]}),(null===a||void 0===a?void 0:a.mediaUrl)&&(0,m.jsx)("div",{className:` ${d["post-data"]}`,children:(0,i.rC)(null===a||void 0===a?void 0:a.mediaUrl)?(0,m.jsx)("img",{src:`${t.H}/${null===a||void 0===a?void 0:a.mediaUrl}`,alt:"Media URL not found",className:`${d["post-img"]}`}):(0,m.jsx)("video",{controls:!0,src:`${t.H}/${null===a||void 0===a?void 0:a.mediaUrl}`,className:`${d["post-img"]}`})}),(null===a||void 0===a?void 0:a.mediaUrl)&&(null===a||void 0===a?void 0:a.text)&&(0,m.jsx)("div",{className:`${d.metadata}`,children:(0,m.jsx)("div",{className:`${d["icon-container"]} d-flex justify-content-between`,children:(0,m.jsx)("div",{children:(0,m.jsx)("p",{children:null===a||void 0===a?void 0:a.text})})})}),!(null!==a&&void 0!==a&&a.mediaUrl)&&(null===a||void 0===a?void 0:a.text)&&(0,m.jsx)("div",{children:(0,m.jsx)("div",{children:(0,m.jsx)("p",{className:d["only-text-content"],children:null===a||void 0===a?void 0:a.text})})}),(0,m.jsxs)("div",{className:"d-flex justify-content-between "+(null!==a&&void 0!==a&&a.text?"":"pt-2"),children:[a.type!==i.ZS.EVENT&&(0,m.jsx)("div",{children:(0,m.jsx)("p",{className:`${d["menu-date"]}`,children:null!==a&&void 0!==a&&a.createdDate?new Date(a.createdDate).toDateString():null})}),a.type===i.ZS.EVENT&&(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:`${d["menu-date"]} mb-0 fw-bold`,children:(null===a||void 0===a?void 0:a.startDate)&&(0,m.jsx)("span",{children:`Starts - ${new Date(null===a||void 0===a?void 0:a.startDate).toDateString()}`})}),(0,m.jsx)("p",{className:`${d["menu-date"]} fw-bold`,children:(null===a||void 0===a?void 0:a.endDate)&&(0,m.jsx)("span",{children:`Ends - ${new Date(null===a||void 0===a?void 0:a.endDate).toDateString()}`})})]}),(0,m.jsxs)("div",{className:"d-flex justify-content-end align-items-center",children:[y(a),(0,m.jsx)("div",{className:"me-3",children:(0,m.jsx)("i",{className:`fa fa-share-square ${d["icon-size"]}`,"aria-hidden":"true",onClick:()=>(a=>{const e=`${window.location.origin}/post/${a}`;navigator.clipboard.writeText(e),(0,i.c3)("Link Copied",!1)})(a._id)})}),f===a.userId&&(0,m.jsx)("div",{className:"me-3",children:(0,m.jsx)("i",{className:`fa fa-pencil-square ${d["icon-size"]}`,"aria-hidden":"true",onClick:()=>h(`/edit/${a._id}`)})}),f===a.userId&&(0,m.jsx)("div",{className:"me-3",children:(0,m.jsx)("i",{className:`fa fa-trash ${d["icon-size"]}`,"aria-hidden":"true",onClick:()=>(j(a._id),void g(!0))})})]})]})]},a._id):null}))}),[f,y,h,w,null===u||void 0===u?void 0:u.data]),C=(0,o.useMemo)((()=>(0,m.jsx)(_.A,{})),[]),E=(0,o.useMemo)((()=>(0,m.jsx)(c.A,{})),[]);return(0,m.jsx)("div",{className:`${d.dashboardCard} ${d["background-Color"]}`,children:(0,m.jsx)("div",{className:` ${d["card-height"]} ${d["align-items-center"]}`,children:(0,m.jsxs)("div",{className:`${d["main-container"]}`,children:[u.loading&&C,!u.loading&&(null===(e=u.data)||void 0===e?void 0:e.length)<=0&&E,!u.loading&&null!==(s=u.data)&&void 0!==s&&s.length?$:null,(0,m.jsx)("div",{children:(0,m.jsx)(r.A,{show:b,handleClose:()=>g(!1),handleSubmit:()=>(()=>{g(!1);const a=localStorage.getItem("USER_ID");l.A.delete(`${t.H}/post/${a}/${x}`).then((a=>{var e;null!==(e=a.data)&&void 0!==e&&e.data?((0,i.c3)("Post Deleted Successfully",!1),N()):(0,i.c3)("Not able to delete... Please try again")})).catch((a=>{(0,i.c3)("Something went wrong ... Please try again")})).finally((()=>{g(!1)}))})(),title:"Delete Post",children:(0,m.jsx)("p",{children:"Are you sure you want to delete this post?"})})}),(0,m.jsx)("div",{children:(0,m.jsx)(r.A,{show:p,handleClose:()=>D(!1),handleSubmit:()=>(()=>{D(!1);const a=localStorage.getItem("USER_ID");l.A.put(`${t.H}/group/add-member/${a}/${x}`).then((a=>{var e;null!==(e=a.data)&&void 0!==e&&e.data?((0,i.c3)("Collab request sent",!1),N()):(0,i.c3)("Not able to send the collab request... Please try again")})).catch((a=>{(0,i.c3)("Something went wrong ... Please try again")})).finally((()=>{g(!1)}))})(),title:"Send Collab Request",children:(0,m.jsx)("p",{children:"Are you sure you want to send collab request?"})})})]})})})}},2037:(a,e,s)=>{s.d(e,{I9:()=>i,XQ:()=>n,ZS:()=>r,c3:()=>t,rC:()=>l,xH:()=>c});var o=s(3401);const d=["mp4","mov"],l=a=>{const e=null===a||void 0===a?void 0:a.split("."),s=e[e.length-1];return!d.includes(null===s||void 0===s?void 0:s.toLowerCase())},t=function(a){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];o.oR[e?"error":"success"](a,{position:"top-right",autoClose:1e4,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark",transition:o.br})},i={GROUP:"GROUP",COLLAB:"COLLAB"},n={APPROVED:"APPROVED",REQUESTED:"REQUESTED",REJECTED:"REJECTED"},r={SELF:"SELF",EVENT:"EVENT",COLLAB:"COLLAB"},c=a=>a.split(/([.!?])\s*/).map(((a,e)=>e%2===0?a.charAt(0).toUpperCase()+a.slice(1).toLowerCase():a)).join("")},7908:(a,e,s)=>{s.d(e,{A:()=>t});s(5043);const o="LoadingIndicator_loading-container__u+u1Y",d="LoadingIndicator_indicator__Y5uSo";var l=s(579);const t=function(){return(0,l.jsx)("div",{className:`${o}`,children:(0,l.jsx)("div",{className:`spinner-border text-primary ${d}`,role:"status",children:(0,l.jsx)("span",{className:"sr-only"})})})}},8066:(a,e,s)=>{s.d(e,{A:()=>d});s(5043);var o=s(579);const d=function(){return(0,o.jsx)("div",{className:"d-flex align-items-center flex-column pt-4",children:(0,o.jsx)("div",{children:(0,o.jsx)("img",{src:"/Images/NoDataFoundImage.jpg",alt:"No Post Found"})})})}}}]);
//# sourceMappingURL=351.afc53c27.chunk.js.map